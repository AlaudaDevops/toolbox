# Example configuration file for Roadmap Planner
# Copy this file to config.yaml and update with your values

# Debug mode - set to true for development
debug: false

# Jira configuration
jira:
  base_url: "https://your-jira-instance.atlassian.net"
  username: "your-username"
  password: "your-api-token"  # Use API token for better security
  project: "DEVOPS"

# Server configuration
server:
  port: 8080
  cors:
    allowed_origins:
      - "http://localhost:3000"
      - "https://your-frontend-domain.com"

logger:
  level: "info"           # debug, info, warn, error
  development: false      # enables colored console output
  encoding: "json"        # json or console

# Cache configuration
cache:
  ttl: "5m"              # Time to live for cached data
  refresh_interval: "1m"  # How often to refresh cache

# Metrics configuration
metrics:
  enabled: true
  collection_interval: "5m"      # How often to fetch from Jira
  historical_days: 365           # How far back to query

  prometheus:
    enabled: true
    path: "/metrics"
    namespace: "roadmap"         # Metric prefix: roadmap_dora_*

  calculators:
    - name: "release_frequency"
      enabled: true
      options:
        window_months: 3         # Rolling window for calculation

    - name: "lead_time_to_release"
      enabled: true
      options:
        percentile: 50           # Use median (P50)

    - name: "cycle_time"
      enabled: true
      options:
        in_progress_statuses: ["In Progress", "In Development"]
        done_statuses: ["Done", "Closed", "Released"]

    - name: "patch_ratio"
      enabled: true
      options:
        patch_pattern: "^(.+)-(\\d+\\.\\d+\\.\\d+)$"  # component-X.Y.Z

    - name: "time_to_patch"
      enabled: true
      options:
        bug_types: ["Bug", "Vulnerability", "Security"]